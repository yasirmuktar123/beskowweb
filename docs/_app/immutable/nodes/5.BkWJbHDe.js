import{s as Y,n as w,a as z}from"../chunks/scheduler.iakHQt1N.js";import{S as Z,i as x,e as k,s as q,t as F,c as C,g as H,h as G,b as M,d as u,f as R,n as m,u as U,a as S,j as A,q as X,k as J,v as $,o as K}from"../chunks/index.Biu10eLk.js";import{e as L}from"../chunks/each.D6YF6ztN.js";function Q(i,a,s){const t=i.slice();return t[14]=a[s],t[16]=s,t}function W(i){let a,s,t,l,p,o,d,E,b,_,I;function P(){return i[6](i[16])}return{c(){a=k("div"),s=k("div"),t=k("div"),l=k("img"),o=q(),d=k("div"),E=q(),this.h()},l(v){a=C(v,"DIV",{class:!0});var n=M(a);s=C(n,"DIV",{class:!0});var y=M(s);t=C(y,"DIV",{class:!0});var r=M(t);l=C(r,"IMG",{src:!0,alt:!0,style:!0}),r.forEach(u),o=G(y),d=C(y,"DIV",{class:!0}),M(d).forEach(u),y.forEach(u),E=G(n),n.forEach(u),this.h()},h(){z(l.src,p=i[14].image)||m(l,"src",p),m(l,"alt","Card front"),K(l,"width","80%"),K(l,"height","80%"),m(t,"class","front svelte-1hu8ur0"),m(d,"class","back svelte-1hu8ur0"),m(s,"class","card-inner svelte-1hu8ur0"),m(a,"class",b="card "+(i[14].flipped?"flipped":"")+" svelte-1hu8ur0")},m(v,n){S(v,a,n),A(a,s),A(s,t),A(t,l),A(s,o),A(s,d),A(a,E),_||(I=X(a,"click",P),_=!0)},p(v,n){i=v,n&1&&!z(l.src,p=i[14].image)&&m(l,"src",p),n&1&&b!==(b="card "+(i[14].flipped?"flipped":"")+" svelte-1hu8ur0")&&m(a,"class",b)},d(v){v&&u(a),_=!1,I()}}}function ee(i){let a,s="Memory",t,l,p,o,d,E,b,_,I,P,v,n,y,r,g="Starta om",T,V,D=L(i[0]),h=[];for(let e=0;e<D.length;e+=1)h[e]=W(Q(i,D,e));return{c(){a=k("h1"),a.textContent=s,t=q(),l=k("main");for(let e=0;e<h.length;e+=1)h[e].c();p=q(),o=k("aside"),d=k("p"),E=F(i[1]),b=q(),_=k("aside"),I=k("p"),P=F(i[2]),v=q(),n=k("aside"),y=q(),r=k("button"),r.textContent=g,this.h()},l(e){a=C(e,"H1",{class:!0,"data-svelte-h":!0}),H(a)!=="svelte-d4dgzr"&&(a.textContent=s),t=G(e),l=C(e,"MAIN",{class:!0});var c=M(l);for(let j=0;j<h.length;j+=1)h[j].l(c);c.forEach(u),p=G(e),o=C(e,"ASIDE",{class:!0});var f=M(o);d=C(f,"P",{class:!0});var O=M(d);E=R(O,i[1]),O.forEach(u),f.forEach(u),b=G(e),_=C(e,"ASIDE",{class:!0});var B=M(_);I=C(B,"P",{class:!0});var N=M(I);P=R(N,i[2]),N.forEach(u),B.forEach(u),v=G(e),n=C(e,"ASIDE",{class:!0}),M(n).forEach(u),y=G(e),r=C(e,"BUTTON",{class:!0,"data-svelte-h":!0}),H(r)!=="svelte-1b3pluk"&&(r.textContent=g),this.h()},h(){m(a,"class","svelte-1hu8ur0"),m(l,"class","svelte-1hu8ur0"),m(d,"class","svelte-1hu8ur0"),m(o,"class","blue svelte-1hu8ur0"),m(I,"class","svelte-1hu8ur0"),m(_,"class","svelte-1hu8ur0"),m(n,"class","turn svelte-1hu8ur0"),U(n,"blue",i[3]),m(r,"class","svelte-1hu8ur0")},m(e,c){S(e,a,c),S(e,t,c),S(e,l,c);for(let f=0;f<h.length;f+=1)h[f]&&h[f].m(l,null);S(e,p,c),S(e,o,c),A(o,d),A(d,E),S(e,b,c),S(e,_,c),A(_,I),A(I,P),S(e,v,c),S(e,n,c),S(e,y,c),S(e,r,c),T||(V=X(r,"click",i[5]),T=!0)},p(e,[c]){if(c&17){D=L(e[0]);let f;for(f=0;f<D.length;f+=1){const O=Q(e,D,f);h[f]?h[f].p(O,c):(h[f]=W(O),h[f].c(),h[f].m(l,null))}for(;f<h.length;f+=1)h[f].d(1);h.length=D.length}c&2&&J(E,e[1]),c&4&&J(P,e[2]),c&8&&U(n,"blue",e[3])},i:w,o:w,d(e){e&&(u(a),u(t),u(l),u(p),u(o),u(b),u(_),u(v),u(n),u(y),u(r)),$(h,e),T=!1,V()}}}function te(i,a,s){let t=Array(6).fill(null).flatMap((r,g)=>[{id:g,image:"memory/"+g+".png",flipped:!1,matched:!1},{id:g,image:"memory/"+g+".png",flipped:!1,matched:!1}]).sort(()=>Math.random()-.5),l=0,p=0,o=!0,d=[],E=0,b=!1,_=!1;function I(r){if(!(b||t[r].flipped||t[r].matched||_)&&(s(0,t=t.map((g,T)=>T===r?{...g,flipped:!0}:g)),d.push(r),E++,E===2)){b=!0;const[g,T]=d;t[g].id===t[T].id?(s(0,t=t.map((V,D)=>D===g||D===T?{...V,matched:!0}:V)),o?s(1,l++,l):s(2,p++,p),n(),P()):setTimeout(()=>{s(0,t=t.map((V,D)=>D===g||D===T?{...V,flipped:!1}:V)),P(),s(3,o=!o)},1e3)}}function P(){d=[],E=0,b=!1}function v(){s(1,l=0),s(2,p=0),s(3,o=!0),_=!1,s(0,t=t.map(r=>({...r,flipped:!1,matched:!1})).sort(()=>Math.random()-.5))}function n(){t.every(r=>r.matched)&&(_=!0,alert(`Spelet är slut! ${l>p?"Blå spelare vinner!":p>l?"Röd spelare vinner!":"Det är oavgjort!"}`))}return[t,l,p,o,I,v,r=>I(r)]}class re extends Z{constructor(a){super(),x(this,a,te,ee,Y,{})}}export{re as component};
